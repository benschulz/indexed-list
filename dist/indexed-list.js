/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
var l;
function r(){var q,t;q=function(){var a;a=function(){function a(e,k){return Object.prototype.hasOwnProperty.call(e,k)}return{H:function(e,a){if(e===a)return!0;var p=!!a&&"function"===typeof a.valueOf;return!!e&&"function"===typeof e.valueOf&&p&&e.valueOf()===a.valueOf()},extend:function(a,p){Array.prototype.slice.call(arguments,1).forEach(function(p){for(var n=Object.keys(p),b=0,g=n.length;b<g;b++){var d=n[b],c=Object.getOwnPropertyDescriptor(p,d);void 0!==c&&c.enumerable&&Object.defineProperty(a,d,
c)}});return a},N:function(e,k){for(var h in e)a(e,h)&&k(h,e[h])},h:a,P:function(e,k){var h={},n;for(n in e)a(e,n)&&(h[n]=k(e[n],n,e));return h}}}();return function(a){return a}(function(a,e,k,h){return{d:a,l:e,e:k,j:h}}(function(a){function e(b){return b.filter(function(b,d,c){return c.lastIndexOf(b)===d})}function k(b,g){for(var d=b.length,c=-1,m=0;m<d;++m)if(g(b[m])){if(0<=c)throw Error("Multiple elements match the predicate.");c=m}return c}function h(b,g){return b&&"function"===typeof b.valueOf&&
g&&"function"===typeof g.valueOf?b.valueOf()<=g.valueOf()?b.valueOf()<g.valueOf()?-1:0:1:b<=g?b<g?-1:0:1}function n(b,g){var d=b.length,c=Array(d),m=Array(d),f;for(f=0;f<d;++f)c[f]=f,m[f]=b[f];f=b;b=m;m=f;c.sort(function(d,c){return g(b[d],b[c])||d-c});for(f=0;f<d;++f)m[f]=b[c[f]];return m}return{contains:function(b,g){return 0<=b.indexOf(g)},L:function(b){if(50<b.length){for(var g=b.length,d={},c,m=0;m<g;++m)if(c=b[m],"string"===typeof c)if(a.h(d,c))break;else d[c]=!0;else if(b.lastIndexOf(c)!==
m)break;if(!(m>=g)){for(var f=b.slice(0,m);m<g;++m)c=b[m],"string"===typeof c?a.h(d,c)||(d[c]=!0,f.push(c)):b.lastIndexOf(c)===m&&f.push(c);b=f}}else b=e(b);return b},M:function(b,g){return Array.prototype.concat.apply([],b.map(g))},R:function(b,g){var d=k(b,g);if(0>d)throw Error("None of the elements matches the predicate.");return b[d]},S:function(b,g){var d=k(b,g);return 0<=d?b[d]:null},n:function(b,g){var d=g||h;window.chrome?d=n(b,d):(b.sort(d),d=b);return d}}}(a),function(){function a(e){return function(){return e}}
return{W:a(!0),T:a(!1),U:a(void 0),V:a(null),X:a(0),I:a,O:function(a){return a}}}(),a,{J:function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},K:function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})},format:function(a){var e=arguments;return a.replace(/{(\d+)}/g,function(a,h){var n=parseInt(h,10)+1;return typeof e.length<=n?a:e[n]})}}))}();t=function(a){return function(a){return a}(function(a){function e(e){var b={get length(){return this.length},
contains:function(a){return 0<=this.p(a)},filter:function(a){for(var d=this.length,c=[],b=0;b<d;++b){var f=this.get(b);a(f,b,this)&&c.push(f)}return new k(c)},forEach:function(a){for(var d=this.length,c=0;c<d;++c)a(this.get(c),c,this)},get:function(a){return this.get(a)},map:function(a){for(var d=this.length,c=Array(d),b=0;b<d;++b)c[b]=a(this.get(b),b,this);return new k(c)},readOnly:function(){return new h(this)},reduce:function(a,d){var c=1<arguments.length,b=this.length;if(!c&&0===b)throw new TypeError("An empty list can not be reduced, specify an initial value.");
for(var f=c?d:this.get(0),c=c?0:1;c<b;++c)f=a(f,this.get(c));return f},slice:function(a,d){var c=this.length;a=0>=arguments.length?0:0<=a?a:c+a;d=1>=arguments.length?c:0<=d?d:c+d;for(var c=d-a,b=Array(c),f=0;f<c;++f)b[f]=this.get(a+f);return new k(b)},o:function(){for(var a=this.length,d=Array(a),c=0;c<a;++c)d[c]=this.get(c);return d},p:function(a){for(var d=this.length,c=0;c<d;++c)if(this.get(c)===a)return c;return-1}};return a.e.extend(b,{get length(){return this.length},contains:b.contains,filter:b.filter,
forEach:b.forEach,get:function(a){return this.get(a)},map:b.map,readOnly:b.readOnly,reduce:b.reduce,slice:b.slice,toArray:b.o,tryFirstIndexOf:b.p},e)}function k(a){this.k=a}function h(a){this.q=a}k.prototype=e({get length(){return this.k.length},get:function(a){return this.k[a]},o:function(){return this.k.slice()}});h.prototype=e({get length(){return this.q.length},get:function(a){return this.q.get(a)}});return{Q:function(a){return new k(a||[])},w:e}}(a))}(q);return function(a){return a}(function(a){a.prototype.clear=
a.prototype.clear;a.prototype.getById=a.prototype.t;a.prototype.containsById=a.prototype.s;a.prototype.removeAll=a.prototype.A;a.prototype.removeAllById=a.prototype.m;a.prototype.sortBy=a.prototype.B;a.prototype.updateAll=a.prototype.D;a.prototype.tryUpdateAll=a.prototype.C;a.prototype.addAll=a.prototype.r;a.prototype.insertAll=a.prototype.v;return a}(function(a,p){function e(a){if("string"!==typeof a)throw Error("Ids must be strings. (given: `"+a+"`, type: `"+typeof a+"`)");return a}function k(d,
c){return a.e.h(d,e(c))?d[c]:-1}function h(a,c){var b=k(a,c);if(0>b)throw Error("No entry with Id `"+c+"`.");return b}function n(a,c,b,f,e){if(f>=e)return f;var g=Math.floor((f+e)/2);return 0>c(b,a[g])?n(a,c,b,f,g):n(a,c,b,g+1,e)}function b(a,c,b,f,e){function g(f,e){var u=k.length,h=c.slice(f,e);k=k.concat(h);h.forEach(function(c){b[a(c)]=u;++u})}var k=[],h=0;f.forEach(function(a){g(h,a);h=a;e(k)});g(h,c.length);return k}function g(a){this.f=function(c){return e(a(c))};this.b=[];this.c={};this.g=
null}g.prototype=p.w({get length(){return this.b.length},get:function(a){return this.b[a]},t:function(a){a=h(this.c,a);return this.b[a]},clear:function(){this.b=[];this.c={}},contains:function(a){a=(0,this.f)(a);return 0<=k(this.c,a)},s:function(a){return 0<=k(this.c,a)},A:function(a){this.m(a.map(this.f))},m:function(a){if(a.length){var c=this.f,e=this.b,f=this.c;a=a.map(function(a){return h(f,a)+1});a.sort(function(a,c){return a-c});this.b=b(c,e,f,a,function(a){a=a.pop();a=c(a);delete f[a]})}},
B:function(b){var c=this.f,e=this.b,f=this.c;this.g=b;a.d.n(e,b);b=!1;for(var g=0;g<e.length;++g){var h=c(e[g]);b=b||f[h]!==g;f[h]=g}return b},D:function(a){if(this.g)throw Error("`updateAll` must not be called on a sorted `IndexedTable`. Use a combination of order-preserving `tryUpdateAll`, `removeAll` and `insertAll` instead.");if(a.length){var b=this.f,e=this.b,f=this.c;a.forEach(function(a){var d=h(f,b(a));e[d]=a})}},C:function(a){if(!this.g)throw Error("`tryUpdateAll` is designed for sorted `IndexedTable`s. For unsorted ones, use `updateAll` instead.");
if(!a.length)return[];var b=this.f,e=this.b,f=this.c,g=this.g,k=[];a.forEach(function(a){var d=h(f,b(a));0!==g(a,e[d])?k.push(a):e[d]=a});return k},r:function(b){if(this.g)throw Error("`addAll` must not be called on an sorted `IndexedTable`. Use order-preserving `insertAll` instead.");if(b.length){var c=this.f,e=this.b,f=this.c;b.forEach(function(b){var d=c(b);if(a.e.h(f,d))throw Error("The list already contains an element with id `"+d+"`. Did you mean to call `updateAll`?.");f[d]=e.push(b)-1})}},
v:function(d){if(!this.g)throw Error("`insertAll` is designed for sorted `IndexedTable`s. For unsorted ones, use `addAll` instead.");if(d.length){var c=this.f,e=this.b,f=this.c,g=this.g;a.d.n(d,g);var h=0,k=[];d.forEach(function(a){a=n(e,g,a,h,e.length);k.push(a);h=a});h=0;this.b=b(c,e,f,k,function(a){var b=d[h],e=c(b),g=a.length;a.push(b);f[e]=g;++h})}}});return g}(q,t)))}"function"===typeof define&&define.amd?define([],r):window["indexed-list"]=r();